!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self)["bz-dropload"]=t()}(this,function(){"use strict";function e(e,t){this.ele=e,this.config=t,this.defaultConfig={direction:"pullup",updistance:0,downdistance:-50},this.handle=null,(r=this)._init()}var r;return e.prototype._addEvent=function(e,t,o){e.addEventListener?e.addEventListener(t,o):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o},e.prototype._removeEvent=function(e,t,o){e.addEventListener?e.removeEventListener(t,o):e.removeEvent?e.removeEvent("on"+t,o):e["on"+t]=null},e.prototype._error=function(e){if(1===e)throw new Error("The ele parameters are required by BzDropload");if(2===e)throw new Error("The parameters type needs to be [object Object] by BzDropload")},e.prototype._coreUpScroll=function(){var e,t,o=r.ele,n=r.handle,i=r.defaultConfig;(o!==window&&o!==document?(e=o.scrollHeight,t=o.scrollTop,o.offsetHeight):(e=document.documentElement.scrollHeight,t=document.documentElement.scrollTop||document.body.scrollTop,document.documentElement.clientHeight||document.body.clientHeight))+t>=e-i.updistance&&n&&n()},e.prototype._coreDownScroll=function(){var e=r.handle,t=r.defaultConfig;(document.documentElement.scrollTop||document.body.scrollTop)<t.downdistance&&e&&e()},e.prototype._init=function(){this.ele||this._error(1),this.config&&"[object Object]"!==Object.prototype.toString.call(this.config)&&this._error(2),this.config&&"[object Object]"===Object.prototype.toString.call(this.config)&&(this.defaultConfig=Object.assign({},this.defaultConfig,this.config))},e.prototype.cancelScroll=function(){"pullup"===this.defaultConfig.direction?this._removeEvent(this.ele,"scroll",this._coreUpScroll):this._removeEvent(this.ele,"scroll",this._coreDownScroll)},e.prototype.openScroll=function(e){this.handle=e,"pullup"===this.defaultConfig.direction?this._addEvent(this.ele,"scroll",this._coreUpScroll):this._addEvent(this.ele,"scroll",this._coreDownScroll)},e});